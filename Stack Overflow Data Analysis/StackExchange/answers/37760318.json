{"title": "Memcache extension with PHP 7 on CentOS fails to install", "tags": ["memcached", "pecl", "php-7", "centos6.5"], "creation_date": 1465623214, "score": 6, "body": "<p>If you haven't solved this yet, I have a solution that worked for me. I'm on CentOS 7.x but it should still work for you, and anyone else wanting to use <a href=\"https://pecl.php.net/package/memcache\" rel=\"nofollow\">pecl-memcache</a> with PHP 7 (not <a href=\"https://pecl.php.net/package/memcached\" rel=\"nofollow\">pecl-memcached</a> as that's a completely different package).</p>\n\n<p>As you have already discovered, you must use the <a href=\"https://github.com/websupport-sk/pecl-memcache\" rel=\"nofollow\">Memcache PHP 7 port on GitHub</a> for this.</p>\n\n<p>Login to your shell and perform the following:</p>\n\n<pre><code> 1. wget https://github.com/websupport-sk/pecl-memcache/archive/NON_BLOCKING_IO_php7.zip\n 2. unzip NON_BLOCKING_IO_php7.zip\n 3. cd pecl-memcache-NON_BLOCKING_IO_php7\n 4. /opt/cpanel/ea-php70/root/usr/bin/phpize &amp;&amp; ./configure --enable-memcache --with-php-config=/opt/cpanel/ea-php70/root/usr/bin/php-config &amp;&amp; make\n 5. cp modules/memcache.so /opt/cpanel/ea-php70/root/usr/lib64/php/modules/\n 6. echo 'extension=memcache.so' &gt;/opt/cpanel/ea-php70/root/etc/php.d/memcached.ini\n 7. service httpd restart\n</code></pre>\n\n<p>Some notes for the above:</p>\n\n<ul>\n<li>Replace each full path that I've used with the appropriate full path on your own system. While I have /opt/cpanel/ea-php70/root/, you may have /opt/php-7.0.7/. If you have multiple PHP versions installed, as I do, running phpize may end up building using an old version of PHP. I discovered this after much trial and error.</li>\n<li>To find out where your PHP modules folder is, you can run \"/opt/cpanel/ea-php70/root/usr/bin/php -i | grep extension_dir\"</li>\n<li>You may not need to perform step 6 where I am creating a memcached.ini if you already have it loaded elsewhere.</li>\n<li>You can verify if it was correctly built and installed using \"/opt/cpanel/ea-php70/root/usr/bin/php -i | grep memcache\". If you see various memcache entries, everything was installed successfully.</li>\n</ul>\n\n<p>I hope that helps!</p>\n", "last_activity_date": 1474489460, "answer_id": 37760318, "is_accepted": true, "owner": {"user_id": 3509051, "reputation": 128, "user_type": "registered", "accept_rate": 75, "display_name": "Phil", "link": "http://stackoverflow.com/users/3509051/phil", "profile_image": "https://www.gravatar.com/avatar/88875be4ac14f598ac33ab61dc1a2014?s=128&d=identicon&r=PG&f=1"}, "last_edit_date": 1474489460, "question_id": 37550910}
{"title": "Which corner case unit test would this fail?", "tags": ["c#", "algorithm", "data-structures", "computer-science"], "creation_date": 1477043763, "score": 1, "body": "<p>As mentioned in your code, your Solution is <code>O(M*N)</code>. As stated in the problem link, the code should run in linear time. Hence, I will not correct your solution as it will eventually fail on bigger test cases. I will provide you a linear algorithm that you can easily implement.</p>\n\n<p>Keep a Stack <code>S</code>, empty initially.</p>\n\n<p>Iterate over the array <code>A</code>, <code>i</code> from <code>0</code> to <code>n-1</code></p>\n\n<p>When you encounter an element, say <code>A[i]</code>, do the following</p>\n\n<ul>\n<li>If the stack <code>S</code> is empty, then push both (<code>A[i], B[i]</code>) as a pair</li>\n<li><p>Else, extract the top pair from the stack <code>S</code> and compare the value of <code>B[top]</code> and <code>B[i]</code>. </p>\n\n<p><em>While</em> <code>B[top]</code> is <code>1</code> and <code>B[i]</code> is <code>0</code>, then one of the fishes will eat the other one. So pop from stack S, the top element. Now, compare which fish is bigger with values <code>A[top]</code> and <code>A[i]</code>. Whichever is bigger, that fish stays alive. Push that pair in the stack <code>S</code>, that corresponds to the fish that stays alive. Continue the <em>while</em> loop till the condition fails\nIf <code>B[top]</code> is not <code>1</code> and <code>B[i]</code> is not <code>0</code>, then simply push the new pair (<code>A[i],B[i]</code>)</p></li>\n</ul>\n\n<p>The size of the stack <code>S</code> at the end, is your answer.</p>\n\n<p>Note: You might not be passing that test case, for which your solution times out. For example, for N=100000, your solution will time out.</p>\n\n<p>In my solution, the worst case time complexity is <code>O(N+N)</code> = <code>O(2N)</code> = <code>O(N)</code>. <code>N</code> times because of the iteration over array <code>A</code> and another <code>N</code> times worst case, due to the Stack if it keeps shrinking, for the <em>while</em> condition holds <code>true</code>.</p>\n\n<p>Hope it helps!!!</p>\n\n<p><strong>Edit:</strong> suppose A = [ 99, 98, 92, 91, 93 ], and B = [1, 1, 1, 1, 0]. Your code gives answer as 3. Expected answer = 2</p>\n\n<p><strong>Edit-2:</strong> This is your modified code that will pass every test case</p>\n\n<pre><code>public int solution(int[] sizes, int[] direction)\n    {\n        if (sizes == null || direction == null)\n            throw new ArgumentNullException();\n\n        var sizesLen = sizes.Length;\n        var directionLen = direction.Length;\n\n        if (sizesLen != direction.Length)\n            throw new ArgumentException();\n\n        var len = sizesLen;\n\n        if (len &lt;= 1) return len;\n\n        var survivors = new Fish[len];\n        survivors[0] = new Fish(sizes[0], direction[0]);\n        var curr = 0;\n\n        for (int i = 1; i &lt; len; i++)\n        {\n            var fish = new Fish(sizes[i], direction[i]);\n\n            if (survivors[curr].Direction == 1 &amp;&amp; fish.Direction == 0)\n            {\n                if (fish.Size &lt; survivors[curr].Size) continue;\n\n                while(curr &gt;= 0 &amp;&amp; \n                    fish.Size &gt; survivors[curr].Size &amp;&amp; \n                    survivors[curr].Direction == 1)\n                {\n                    curr--;\n                }\n\n                if (curr &gt;= 0)\n                {\n                    if (fish.Size &lt; survivors[curr].Size &amp;&amp; \n                         survivors[curr].Direction == 1) \n                               continue;\n                }\n            }\n\n            survivors[++curr] = fish;\n        }\n\n        return ++curr;\n    }\n\n}\n\npublic class Fish\n{\n    public Fish(int size, int direction)\n    {\n        Size = size;\n        Direction = direction;\n    }\n\n    public int Size { get; set; }\n    public int Direction { get; set; }\n}\n</code></pre>\n", "last_activity_date": 1477105447, "answer_id": 40173597, "is_accepted": true, "owner": {"user_id": 6354622, "reputation": 1183, "user_type": "registered", "accept_rate": 76, "display_name": "User_Targaryen", "link": "http://stackoverflow.com/users/6354622/user-targaryen", "profile_image": "https://i.stack.imgur.com/rNoam.jpg?s=128&g=1"}, "last_edit_date": 1477105447, "question_id": 40171922}
{"title": "How to authenticate to a dropbox account and get a file with the PHP SDK?", "tags": ["dropbox", "dropbox-api"], "creation_date": 1471940585, "score": 0, "body": "<p>Here's a step by step guide:</p>\n\n<ul>\n<li>Log in to Dropbox with the developer's Dropbox account</li>\n<li>Go to the \"Dropbox App Console\" <a href=\"https://www.dropbox.com/developers/apps\" rel=\"nofollow\">https://www.dropbox.com/developers/apps</a> and register an App (regular Dropbox API). Name it appropriately; the name can't contain \"Dropbox\". I chose \"MYVENDORNAMEGetFile\". The app is your own script, it's just registered here. Follow the descriptions. Choose \"Permission type: App folder\". \"Status: Development\" is fine; disallow OAuth \"Implicit grant\". Also, enable additional users on that page (you'll get 500).</li>\n<li>Get the PHP SDK from <a href=\"https://www.dropbox.com/developers-v1/core/sdks/php\" rel=\"nofollow\">https://www.dropbox.com/developers-v1/core/sdks/php</a> and install it on your server or test environment. You have to use it via command line, so no need to access it through a web browser.</li>\n<li>cd to your sdk directory</li>\n<li>Create two files, eg. named <code>info.json</code> and <code>auth.txt</code></li>\n</ul>\n\n<p>Add the following content to info.json (fill in key &amp; secret from the \"App Console\"):</p>\n\n<pre><code> {\n     \"key\": \"\",\n     \"secret\": \"\"\n }\n</code></pre>\n\n<ul>\n<li><p>If you want to authenticate the app for another account than your developer account, log out from Dropbox in the browser (or make sure you use another browser/ the right account in the following step).</p></li>\n<li><p>In the sdk folder, run <code>php ./examples/authorize.php info.json auth.txt</code> (to get help, look at the php file or run without params)</p></li>\n<li><p>Copy the link from the command line to visit <a href=\"https://www.dropbox.com/1/oauth2/authorize\" rel=\"nofollow\">https://www.dropbox.com/1/oauth2/authorize</a>... \u2013 Log in with your client's account and get the Auth code (or instruct him/her to do it).</p></li>\n<li><p>Browser says: `MYVENDORNAMEGetFile would like access to its own folder, Apps \u203a MYVENDORNAMEGetFile, inside your Dropbox``</p></li>\n<li><p>Allow, copy token and paste it into the command line prompt</p></li>\n<li><p>Voil\u00e0, Authorisation is granted, and the active dropbox account now has a Directory <code>/Apps/MYVENDORNAMEGetFile</code></p></li>\n<li><p>Dropbox owner can now add a file, say, test.csv, to <code>/Apps/MYVENDORNAMEGetFile</code></p></li>\n<li><p>Get that file with the \"app\" via command line: <code>php ./examples/download-file.php auth.txt /test.csv import.csv</code> (mind the slash before test.csv, indicating your App's home directory.</p></li>\n<li><p>That's it, integrate it into your tool</p></li>\n<li><p>Repeat the same/similar steps for other installations/clients</p></li>\n<li><p>You don't have to add users on <a href=\"https://www.dropbox.com/developers/apps\" rel=\"nofollow\">https://www.dropbox.com/developers/apps</a>, just authenticate them as described</p></li>\n<li><p>The number of users is shown in the \"App Console\", I guess there's no way to see their identities or unlink them individually</p></li>\n</ul>\n", "last_activity_date": 1471953264, "answer_id": 39095969, "is_accepted": false, "owner": {"user_id": 160968, "reputation": 2573, "user_type": "registered", "accept_rate": 78, "display_name": "Urs", "link": "http://stackoverflow.com/users/160968/urs", "profile_image": "https://www.gravatar.com/avatar/83bcda00f1bffcad1deb5f2112bb5c3e?s=128&d=identicon&r=PG"}, "last_edit_date": 1471953264, "question_id": 39095968}
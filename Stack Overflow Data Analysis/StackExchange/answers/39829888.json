{"body": "<p>I recommended @Rapha\u00eblAlthau's answer. But, if you would like to make it dynamic, please try this.</p>\n\n<pre><code>DECLARE @TYPES VARCHAR(MAX),\n    @TYPESELECT VARCHAR(MAX)        \nSELECT @TYPES = STUFF((SELECT ','+ QUOTENAME(TYP) FROM T1 GROUP BY TYP FOR XML PATH('')),1,1,'') ;\nSELECT @TYPESELECT = STUFF((SELECT ','+ 'ISNULL('+QUOTENAME(TYP)+',0) AS '+QUOTENAME(TYP) FROM T1 GROUP BY TYP FOR XML PATH('')),1,1,'') ;\n\nEXEC ('SELECT Mnth, '+ @TYPESELECT +'\nFROM \n(SELECT  \n   [Typ], \n   CAST(YEAR([DateT]) AS VARCHAR) +''/''+CAST(MONTH([DateT]) AS VARCHAR) AS Mnth, \n   COUNT(DateT) C\n FROM T1\n GROUP BY [TyP], YEAR([DateT]), MONTH([DateT])\n ) t\nPIVOT(SUM(C)\n  FOR [Typ] IN ('+ @TYPES +')\n) AS PVT')\n</code></pre>\n", "tags": ["sql-server"], "creation_date": 1475491946, "score": 1, "last_activity_date": 1475491946, "answer_id": 39829888, "is_accepted": false, "owner": {"user_id": 5198405, "reputation": 62, "user_type": "registered", "display_name": "vipin ", "link": "http://stackoverflow.com/users/5198405/vipin", "profile_image": "https://www.gravatar.com/avatar/27f5ecc01156db1f98f4c8507cac9abe?s=128&d=identicon&r=PG&f=1"}, "title": "SQL Query: Count, Group by date and year multiple columns", "question_id": 39828370}
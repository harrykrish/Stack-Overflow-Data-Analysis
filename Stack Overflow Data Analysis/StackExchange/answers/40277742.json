{"body": "<p>From @RaGe suggestion to use pom.withXml I was able to use this hackery to remove that extra dependency.</p>\n\n<pre><code>pom.withXml {\n  Node pomNode = asNode()\n  pomNode.dependencies.'*'.findAll() {\n    it.artifactId.text() == 'antlr4'\n  }.each() {\n    it.parent().remove(it)\n  }\n}\n</code></pre>\n\n<p>Before:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n      &lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\n      &lt;version&gt;4.5.1&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n      &lt;artifactId&gt;antlr4&lt;/artifactId&gt;\n      &lt;version&gt;4.5.1&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n      &lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\n      &lt;version&gt;4.5.1&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Some more links to explain the issue:</p>\n\n<ul>\n<li><p><a href=\"https://discuss.gradle.org/t/antlr-plugin-adds-compile-dependency-on-the-whole-antlr/10768\" rel=\"nofollow\">https://discuss.gradle.org/t/antlr-plugin-adds-compile-dependency-on-the-whole-antlr/10768</a></p></li>\n<li><p><a href=\"https://issues.gradle.org/browse/GRADLE-3325\" rel=\"nofollow\">https://issues.gradle.org/browse/GRADLE-3325</a></p></li>\n</ul>\n", "tags": ["gradle", "antlr", "build.gradle", "antlr4"], "creation_date": 1477550107, "score": 2, "last_activity_date": 1477550107, "answer_id": 40277742, "is_accepted": true, "owner": {"user_id": 3697909, "reputation": 51, "user_type": "registered", "display_name": "iamcornholio", "link": "http://stackoverflow.com/users/3697909/iamcornholio", "profile_image": "https://i.stack.imgur.com/1SqbZ.png?s=128&g=1"}, "title": "How can I exclude a dependency from a POM built by the Gradle Maven Publishing plugin?", "question_id": 40268027}
{"body": "<p>I describe here how I did it, since it worked, do't know if it is the best way, but it works without having file system in an inconsistent state.\nVery simple approach was:</p>\n\n<ol>\n<li>set HDFS safe mode: <code>hdfs dfsadmin -safemode enter</code> </li>\n<li>stop the cluster</li>\n<li>configure the new master with all hadoop required software, users and configurations</li>\n<li><p>copy files from the hadoop file system on the new master machine, changing permissions accordingly</p></li>\n<li><p>change the DNS to reflect the new topology (maybe /etc/hosts ),or change the IP when needed in all cluster config file to reflect new master address</p></li>\n<li><p>start the new cluster, it should start as usual, starting even the slaves</p></li>\n<li><p>check DFS, and exit safe mode: <code>hdfs dfsadmin safemode -leave</code></p></li>\n</ol>\n", "tags": ["hadoop", "hdfs"], "creation_date": 1477689609, "score": 0, "last_activity_date": 1477689609, "answer_id": 40313356, "is_accepted": true, "owner": {"user_id": 566608, "reputation": 23559, "user_type": "registered", "accept_rate": 81, "display_name": "Felice Pollano", "link": "http://stackoverflow.com/users/566608/felice-pollano", "profile_image": "https://www.gravatar.com/avatar/bf8ff77ca000b80a2b19d07dbb257645?s=128&d=identicon&r=PG"}, "title": "Moving hadoop master node in another box: how to handle HDFS", "question_id": 40216709}
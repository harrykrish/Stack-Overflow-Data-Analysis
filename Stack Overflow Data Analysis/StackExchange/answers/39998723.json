{"body": "<p>Almost correct, try to use this code instead:</p>\n\n<pre><code>@Override\npublic void onImageAvailable(ImageReader reader) {\n    Image image = null;\n    try {\n        image = reader.acquireLatestImage();\n//        Log.d(TAG, String.format(Locale.getDefault(), \"image w = %d; h = %d\", image.getWidth(), image.getHeight()));\n        Image.Plane[] planes = image.getPlanes();\n        ByteBuffer buffer = planes[0].getBuffer();\n        buffer.rewind();\n        byte[] data = new byte[buffer.capacity()];\n        buffer.get(data);\n        Bitmap bitmap = BitmapFactory.decodeByteArray(data, 0, data.length);\n//use your bitmap\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    if (image != null) {\n        image.close();\n    }\n}\n</code></pre>\n", "tags": ["android", "live-streaming", "android.harware.camera2"], "creation_date": 1476275555, "score": 0, "last_activity_date": 1476275555, "answer_id": 39998723, "is_accepted": false, "owner": {"user_id": 3226984, "reputation": 1746, "user_type": "registered", "accept_rate": 76, "display_name": "Vladimir Kulyk", "link": "http://stackoverflow.com/users/3226984/vladimir-kulyk", "profile_image": "https://i.stack.imgur.com/cGb7o.jpg?s=128&g=1"}, "title": "How to correctly receive camera images from onImageAvailable?", "question_id": 38700962}
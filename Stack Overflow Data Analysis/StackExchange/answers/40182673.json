{"title": "React-Native ListView: cannot read property of undefined", "tags": ["android", "reactjs", "react-native"], "creation_date": 1477072233, "score": 1, "body": "<p>You use <code>ListView</code> in a wrong way, you create new dataSource in constructor (<code>ds</code>) and not assign it anywhere, checkout example in documentation: <a href=\"https://facebook.github.io/react-native/docs/listview.html\" rel=\"nofollow\">https://facebook.github.io/react-native/docs/listview.html</a></p>\n\n<p>It should be:</p>\n\n<pre><code>constructor(props) {\n    super(props)\n\n    this.state = {\n     dataSource: new ListView.DataSource({rowHasChanged: (r1, r2) =&gt; r1 !== r2}),\n    }\n}\n</code></pre>\n\n<p>And in setState make something like this:</p>\n\n<pre><code>this.setState({\n    datasource: this.state.dataSource.cloneWithRows(obj)\n})\n</code></pre>\n\n<h3>Edit:</h3>\n\n<p>And in your <code>for</code> loop you should have:</p>\n\n<pre><code>var obj = [];\nfor(let i = 0; i &lt; len; i++) {\n    obj.push({id: res.rows.item(i)[\"id\"], title: res.rows.item(i)[\"title\"]});\n}\n</code></pre>\n", "last_activity_date": 1477073512, "answer_id": 40182673, "is_accepted": true, "owner": {"user_id": 6041704, "reputation": 411, "user_type": "registered", "display_name": "jonzee", "link": "http://stackoverflow.com/users/6041704/jonzee", "profile_image": "https://www.gravatar.com/avatar/07bae9f4ff0a35e195af9da7870bc006?s=128&d=identicon&r=PG&f=1"}, "last_edit_date": 1477073512, "question_id": 40182588}
{"title": "Rails 5: enum from select not saved on update", "tags": ["ruby-on-rails", "ruby", "enums"], "creation_date": 1476904794, "score": 2, "body": "<pre><code>Parameters: {\"utf8\"=&gt;\"\u2713\", \"authenticity_token\"=&gt;\"5mjLbYZH6tJWOympfEApF2EwbR/Nk4cQFvqtCiXhL3hOIs+yOQGbZUaIFqO42aMyUWr3JdX+dYQU4Arkpy3jrQ==\", \n\"company\"=&gt;{\"name\"=&gt;\"Agency 8\", \"legal_name\"=&gt;\"agency No8 SIA\", \"reg_number\"=&gt;\"123456789\", \"address\"=&gt;\"street 8\", \"bank_acc\"=&gt;\"123456789\", \"description\"=&gt;\"Super agency\", \n\"website\"=&gt;\"www.google.com\"}, \"role\"=&gt;\"seller_buyer\", \"commit\"=&gt;\"Save\", \"id\"=&gt;\"13\"}\n</code></pre>\n\n<p>Look at the <code>\"role\"=&gt;\"seller_buyer\"</code> it is out side of <code>company</code> hash. It should be like this:</p>\n\n<pre><code>Parameters: {\"utf8\"=&gt;\"\u2713\", \"authenticity_token\"=&gt;\"5mjLbYZH6tJWOympfEApF2EwbR/Nk4cQFvqtCiXhL3hOIs+yOQGbZUaIFqO42aMyUWr3JdX+dYQU4Arkpy3jrQ==\", \n    \"company\"=&gt;{\"name\"=&gt;\"Agency 8\", \"legal_name\"=&gt;\"agency No8 SIA\", \"reg_number\"=&gt;\"123456789\", \"address\"=&gt;\"street 8\", \"bank_acc\"=&gt;\"123456789\", \"description\"=&gt;\"Super agency\", \n    \"website\"=&gt;\"www.google.com\", \"role\"=&gt;\"seller_buyer\"}, \"commit\"=&gt;\"Save\", \"id\"=&gt;\"13\"}\n</code></pre>\n\n<p>it is happening because your form input is not correctly generated. You should not be use select inside option. <code>select</code> will generate options by the given array(<code>Company.roles.keys.to_a</code>).</p>\n\n<p><strong>Edit:</strong>\nThis should fix your design issue:</p>\n\n<pre><code>&lt;%= f.select :role, options_for_select(Company.roles.keys.to_a, class: 'form-control'),{},{class:\"form-control m-b\"} %&gt;\n</code></pre>\n", "last_activity_date": 1476906050, "answer_id": 40139832, "is_accepted": true, "owner": {"user_id": 1300194, "reputation": 7576, "user_type": "registered", "accept_rate": 72, "display_name": "Awlad Liton", "link": "http://stackoverflow.com/users/1300194/awlad-liton", "profile_image": "https://i.stack.imgur.com/4bO36.png?s=128&g=1"}, "last_edit_date": 1476906050, "question_id": 40139352}
{"title": "Angular - how to access object from promise", "tags": ["javascript", "angularjs"], "creation_date": 1473839584, "score": 1, "body": "<p>Essentially, you need to chain your functions using <code>promises</code> and <code>resolve</code> or <code>callback</code>. Take a look <a class='doc-link' href=\"http://stackoverflow.com/documentation/javascript/231/promises#t=201609140807432265706\">SO Documentation on JS Promises</a>. Said that, you should refactor both of your functions <code>fetch</code> and <code>resourceGetter</code> using promises. You can use the pattern that I provide below (<a href=\"https://www.promisejs.org/patterns/\" rel=\"nofollow\">Take a look here</a>), use <code>$q</code> provider and many other variations.</p>\n\n<p>You should build your <code>QuizService</code> like</p>\n\n<pre><code>(function () {\n 'use strict';\n\nangular\n  .module('myApp')\n  .service('QuizService', function ($resource, AppSettings) {\n\n    function resourceGetter() {\n      return new Promise(function (resolve) {\n        return resolve ($resource(\n                   AppSettings.apiUrl + '/quizzes/:id/:verb',\n                       {\n                          id: '@id'\n                       }\n        });\n      })\n    }\n\n    function fetchAndSet(params) {\n      return new Promise(function (resolve, reject) {\n        resourceGetter().then(function(response){\n          if(response){\n          return Promise.resolve(setCurrent(response));\n        }\n          return reject({error : 'Error while fetch'});\n        })\n      })\n    }\n\n    return {\n      fetchAndSet: fetchAndSet\n    }\n});\n})();\n</code></pre>\n\n<p>And then on your <code>modules</code>, lets say a <code>Controller</code></p>\n\n<pre><code>. . .\nQuizService.fetchAndSet(parameter).then( function(result){\n if(result.error){\n    console.log('Error ':result.error);\n }\n console.log('Got '+result+' from fetch');\n});\n</code></pre>\n\n<p>Of course, you can also refactor <code>setCurrent</code> to follow this pattern.</p>\n\n<p>This code is not guaranteed to work 100% since I don't know exactly what you are trying to do and You did not provide a <strong>Plunker</strong> or similar.</p>\n\n<p>I'm sure that if you take a look at my code and the links I provided you'll make it work.</p>\n\n<p>Hope I've been helpful.</p>\n", "last_activity_date": 1473841117, "answer_id": 39485211, "is_accepted": false, "owner": {"user_id": 4684539, "reputation": 790, "user_type": "registered", "accept_rate": 100, "display_name": "AndreaM16", "link": "http://stackoverflow.com/users/4684539/andream16", "profile_image": "https://i.stack.imgur.com/JT5Np.png?s=128&g=1"}, "last_edit_date": 1473841117, "question_id": 39485080}
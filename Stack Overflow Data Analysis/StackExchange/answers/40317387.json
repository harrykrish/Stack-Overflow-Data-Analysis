{"body": "<p>The error wasn't the tax calculation but the price itself. When adding 12 months I only changed the price displayed not calculated so I added this function to fix that.</p>\n\n<pre><code>add_action( 'woocommerce_before_calculate_totals', 'add_custom_price' );\n\nfunction add_custom_price( $cart_object ) {\n\n    foreach ( $cart_object-&gt;cart_contents as $value ) {\n        if ( $value['quantity'] == 12 ) {\n            if ( $value['product_id'] == 2244 ) { // Small\n                $value['data']-&gt;price = 24.16666;\n            }\n            // Add others products here. Hope there are not many products \n        }\n    }\n}\n</code></pre>\n", "tags": ["wordpress", "woocommerce"], "creation_date": 1477730071, "score": 0, "last_activity_date": 1477730071, "answer_id": 40317387, "is_accepted": false, "owner": {"user_id": 3200799, "reputation": 515, "user_type": "registered", "accept_rate": 71, "display_name": "Core972", "link": "http://stackoverflow.com/users/3200799/core972", "profile_image": "https://www.gravatar.com/avatar/0e35e2b5b31d7a82efec23a76bca837a?s=128&d=identicon&r=PG&f=1"}, "title": "Woocommerce - Cart product wrong calculation", "question_id": 40264753}
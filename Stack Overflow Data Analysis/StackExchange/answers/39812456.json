{"body": "<p>Instead of querying for <code>deleted_at: null</code> it would be better to create a new <code>status</code> field or an <code>isDeleted</code> field and configure your app servers to populate that field. Then, you can create a more effective index on this field to find all of your soft-deleted documents.</p>\n\n<p>From the <a href=\"https://webassets.mongodb.com/_com_assets/collateral/MongoDB-Performance-Best-Practices.pdf?_ga=1.211821597.888499800.1464953152\" rel=\"nofollow\"><em>Performance Best Practices for MongoDB</em></a> white paper:</p>\n\n<blockquote>\n  <p><strong>Avoid negation in queries.</strong> Like most database systems, MongoDB does not index the absence of values and negation conditions may require scanning all documents. If negation is the only condition and it is not selective (for example, querying an orders table where 99% of the orders are complete to identify those that have not been fulfilled), all records will need to be scanned.</p>\n</blockquote>\n", "tags": ["mongodb"], "creation_date": 1475364705, "score": 1, "last_activity_date": 1475364705, "answer_id": 39812456, "is_accepted": true, "owner": {"user_id": 6101554, "reputation": 121, "user_type": "registered", "accept_rate": 47, "display_name": "Marty Chang", "link": "http://stackoverflow.com/users/6101554/marty-chang", "profile_image": "https://lh6.googleusercontent.com/-a3kdcc1p8UM/AAAAAAAAAAI/AAAAAAAAAAs/GuuMlG7zasA/photo.jpg?sz=128"}, "title": "Compound mongo index optimization for query with null, false, and true", "question_id": 39812096}
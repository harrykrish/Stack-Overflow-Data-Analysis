{"title": "login from android http post to grails 3 spring security", "tags": ["android", "spring", "grails"], "creation_date": 1477672421, "score": 1, "body": "<p>The issue is here:</p>\n\n<blockquote>\n  <p><strong>org.springframework.security.authentication.dao.DaoAuthenticationProvider</strong></p>\n  \n  <ul>\n  <li>User '' not found</li>\n  </ul>\n</blockquote>\n\n<p>On the <a href=\"http://www.slideshare.net/burtbeckwith/fun-with-spring-security\" rel=\"nofollow\">provided link</a>  slide 6 it says <code>firing organizationFilter</code> </p>\n\n<p>When you look into <a href=\"http://docs.spring.io/spring-security/site/docs/3.0.x/reference/security-filter-chain.html\" rel=\"nofollow\">security filters</a>. They are actually those static rules that I mentioned earlier.</p>\n\n<p>so something is of a conflict there and the rule is being bypassed then it attempts to login (with no user credentials).</p>\n\n<p>It is all there in there logs just a matter of interpreting it correctly </p>\n\n<p>Right..\n Comment out this first</p>\n\n<pre><code>//grails.plugin.springsecurity.securityConfigType = 'Requestmap'\n</code></pre>\n\n<p>//Then add</p>\n\n<pre><code>grails.plugin.springsecurity.controllerAnnotations.staticRules = [\n    [pattern: '/',               access: ['permitAll']],\n    [pattern: '/error',          access: ['permitAll']],\n    [pattern: '/index',          access: ['permitAll']],\n    [pattern: '/index2.gsp',      access: ['permitAll']],\n    [pattern: '/shutdown',       access: ['permitAll']],\n    [pattern: '/assets/**',      access: ['permitAll']],\n    [pattern: '/**/js/**',       access: ['permitAll']],\n    [pattern: '/**/css/**',      access: ['permitAll']],\n    [pattern: '/**/images/**',   access: ['permitAll']],\n    [pattern: '/**/favicon.ico', access: ['permitAll']],\n    [pattern: '/login/ajaxSuccess',       access: ['permitAll']],\n    [pattern: '/login/ajaxSuccess/**',       access: ['permitAll']],\n    [pattern: '/**/ajaxSuccess/**',       access: ['permitAll']]\n]\n</code></pre>\n\n<p>I haved added 3 new rules at the very bottom, the very first one should fix the issue. But I added them just incase. Then the line above it you have changed from annotation to <code>Requestmap</code> but then you have <code>controllerAnnotations.staticRules</code>  you do need to pay attention to the finer details here.</p>\n\n<p>If you set something to be something else then you need relevant configuration for that.\nPlease note if you do wish to stick with Requestmap then maybe you need to configure </p>\n\n<pre><code>grails.plugin.springsecurity.interceptUrlMap = [\n                [pattern: '/',               access: ['permitAll']],\n                [pattern: '/something/**',          access: ['ROLE_ADMIN', 'ROLE_USER']],\n                [pattern: '/**',          access: ['permitAll']],\n]\n</code></pre>\n\n<p>For now I would stick with <code>securityConfigType: Annotation</code></p>\n", "last_activity_date": 1477674045, "answer_id": 40309422, "is_accepted": true, "owner": {"user_id": 755637, "reputation": 4040, "user_type": "registered", "accept_rate": 42, "display_name": "vahid", "link": "http://stackoverflow.com/users/755637/vahid", "profile_image": "https://i.stack.imgur.com/17h2p.jpg?s=128&g=1"}, "last_edit_date": 1477674045, "question_id": 40284283}
{"body": "<p>Thanks in part to Chris, whose method I couldn't interpret or get working, but found the information helpful, and thanks to Keif Kraken, whose method I did get working.</p>\n\n<p><strong>Restart server when changing to or from a specific branch (s3)</strong></p>\n\n<p><code>.git/hooks/post-checkout</code> script</p>\n\n<pre><code>#!/bin/bash\noldref=$(git rev-parse --abbrev-ref @{-1})\nnewref=$(git rev-parse --abbrev-ref head)\n\nif [[ ( \"$oldref\" = \"s3\" || \"$newref\" = \"s3\" ) &amp;&amp; \"$oldref\" != \"$newref\" ]]\nthen\n  touch tmp/restart.txt\n  echo \" *** restarting puma-dev\"\n  echo \" *** please don't upload any files\"\nfi\n</code></pre>\n", "tags": ["git", "bash", "git-branch", "githooks"], "creation_date": 1475172378, "score": 0, "last_activity_date": 1475172378, "answer_id": 39777157, "is_accepted": false, "owner": {"user_id": 522560, "reputation": 143, "user_type": "registered", "accept_rate": 71, "display_name": "tidelake", "link": "http://stackoverflow.com/users/522560/tidelake", "profile_image": "https://www.gravatar.com/avatar/f1780a58c3fc8b84d7d0c372c29bc206?s=128&d=identicon&r=PG"}, "title": "Git hook to get prior branch name", "question_id": 39775961}
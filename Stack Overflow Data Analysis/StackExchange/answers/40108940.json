{"title": "Loop/if else in R for data frame", "tags": ["r", "loops", "if-statement", "dataframe"], "creation_date": 1476795437, "score": 1, "body": "<p>I like Grothendieck's answer, but it may not be as easy to interpret for someone new to R. So lets do it in a less programatically efficient way that shows you the steps to take. I'll use the same data frame naming convention as Grothendieck.</p>\n\n<p>Lets determine if the time between journeys is within 60 minutes. Lets loop through all rows in the data frame and if they are the same account and if they are the same type of Mode then check if they are less than 60 minutes apart and if all three conditions check out then set linked to 1. Otherwise, we'll set linked to 0.</p>\n\n<pre><code>for (i in 2:dim(df)[1]){\n  if (df$ID[i]==df$ID[i-1]){\n    if (df$Mode[i]==df$Mode[i-1]){\n      if ((df$Time[i]-df$Time[i-1]) &lt; 60){\n        df$linked[i] &lt;- 1\n      }\n      else {\n        df$linked[i] &lt;- 0\n      }\n    }\n    else {\n      df$linked[i] &lt;- 0\n    }\n  }\n  else {\n    df$linked[i] &lt;- 0\n  }\n}\n</code></pre>\n", "last_activity_date": 1476890982, "answer_id": 40108940, "is_accepted": true, "owner": {"user_id": 4075085, "reputation": 760, "user_type": "registered", "accept_rate": 100, "display_name": "JJFord3", "link": "http://stackoverflow.com/users/4075085/jjford3", "profile_image": "https://www.gravatar.com/avatar/cdd3817d549a4f941e1de54c640ffb49?s=128&d=identicon&r=PG&f=1"}, "last_edit_date": 1476890982, "question_id": 40108267}
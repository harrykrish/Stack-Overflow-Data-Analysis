{"title": "Safest way to use SharedPreferences", "tags": ["java", "android", "singleton", "sharedpreferences", "preferences"], "creation_date": 1476436731, "score": 5, "body": "<blockquote>\n  <p>Type 1:-</p>\n</blockquote>\n\n<p><strong>In the type 1</strong>, You directly use this <code>class method</code>, this one is best........</p>\n\n<blockquote>\n  <p>Type 2:-</p>\n</blockquote>\n\n<p><strong>In the type 2</strong>, there is one <code>Static Variable</code> that will <strong>cause</strong> the <code>MemoryLeakException</code> in your application. If you wanted to use the type 2 then, you have made <code>INSTANCE</code> variable null whenever you use this class (<strong>these can solve the problem of <code>MemoryLeakException</code></strong>).......</p>\n\n<blockquote>\n  <p>Type 3:-</p>\n</blockquote>\n\n<p><strong>In type 3</strong>, You have to create <code>Heap Memory</code>(take Ram memory for Instance until its scope end) <strong>Or</strong> <code>new Instance</code> of class, whenever you want to use this class. This class will help if you have to use this <code>class methods</code> in many time in single <code>Activity</code>.......</p>\n\n<blockquote>\n  <p>use this class for simple use of <code>SharePrefernce</code> .....</p>\n</blockquote>\n\n<pre><code>public class Utility {\n\n    public static boolean getBoolean(Context context, String key) {\n        SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(context);\n        return preferences.getBoolean(key, false);\n    }\n\n    public static String getString(Context context, String key) {\n        SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(context);\n        return preferences.getString(key, \"\");\n    }\n\n    public static int getInt(Context context, String key) {\n        SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(context);\n        return preferences.getInt(key, -1);\n    }\n\n\n    public static void setString(Context context, String key, String value) {\n        PreferenceManager.getDefaultSharedPreferences(context).edit().putString(key, value).commit();\n    }\n\n    public static void setBoolean(Context context, String key, boolean value) {\n        PreferenceManager.getDefaultSharedPreferences(context).edit().putBoolean(key, value).commit();\n    }\n\n\n}\n</code></pre>\n\n<blockquote>\n  <p>for setting string  ....</p>\n</blockquote>\n\n<pre><code>Utility.setString(this,\"token\",\"your token\");\n</code></pre>\n\n<blockquote>\n  <p>and for getting string ...</p>\n</blockquote>\n\n<pre><code>Utility.getString(this,\"token\");\n</code></pre>\n\n<p><strong>Note :  - In this clas, you don't have to create any</strong> <code>Heap Memory OR Static Variable.</code></p>\n", "last_activity_date": 1477666734, "answer_id": 40039461, "is_accepted": true, "owner": {"user_id": 5305430, "reputation": 2449, "user_type": "registered", "accept_rate": 57, "display_name": "sushildlh", "link": "http://stackoverflow.com/users/5305430/sushildlh", "profile_image": "https://lh6.googleusercontent.com/-SjGdjqDYMmU/AAAAAAAAAAI/AAAAAAAAABE/4DckYzbmJEQ/photo.jpg?sz=128"}, "last_edit_date": 1477666734, "question_id": 40039354}
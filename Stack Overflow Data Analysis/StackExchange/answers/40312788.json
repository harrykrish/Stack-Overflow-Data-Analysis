{"body": "<p>Eventually I've found the solution.</p>\n\n<p>First it is necessary to add the following line to the .pro file:</p>\n\n<pre><code>CONFIG -= embed_manifest_exe\n</code></pre>\n\n<p>this will disable embedding of the default manifest file. After that it is necessary to add a windows resource file:</p>\n\n<pre><code>RC_FILE = app_resources.rc\n</code></pre>\n\n<p>.rc file is usually included to embed version information into .exe, but as soon as manifest is also a part of the executable resources we could reference a custom manifest file in it, just add the following line into app_resources.rc:</p>\n\n<pre><code>1 24 myapp.exe.manifest\n</code></pre>\n\n<p>where 1 is the resource ID, 24 is the resource type - RT_MANIFEST, and myapp.exe.manifest is the file with our custom manifest.\nIf you don't need version info then app_resources.rc may contain just this single line.</p>\n\n<p>That's it.</p>\n\n<p>For CMake the steps are as follows:</p>\n\n<p>1) include app_resources.rc in the list of sources of the target</p>\n\n<p>2) add the following line to disable embedding of a default manifest file:</p>\n\n<pre><code>set(CMAKE_EXE_LINKER_FLAGS \"/MANIFEST:NO\")\n</code></pre>\n\n<p>For some unknown for me reasons /MANIFEST:NO didn't work in .pro file. The linker failed with an unknown option error. However it works in CMake. The linker is the same from VS 2010...</p>\n", "tags": ["qt", "cmake"], "creation_date": 1477686567, "score": 0, "last_activity_date": 1477686567, "answer_id": 40312788, "is_accepted": false, "owner": {"user_id": 3829614, "reputation": 26, "user_type": "registered", "display_name": "rkudinov", "link": "http://stackoverflow.com/users/3829614/rkudinov", "profile_image": "https://www.gravatar.com/avatar/e126e91df34e0136c9936d502058bb45?s=128&d=identicon&r=PG&f=1"}, "title": "Qt Creator: how to embed custom manifest in .exe", "question_id": 40292916}
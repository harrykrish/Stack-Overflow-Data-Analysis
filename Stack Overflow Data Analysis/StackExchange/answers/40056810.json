{"body": "<pre><code>CREATE PROCEDURE `getVal`()\nBEGIN\n        declare r_len integer;\n        declare r_id integer;\n        declare r_val varchar(20);\n        declare i integer;\n        DECLARE found_row int(10);\n        DECLARE row CURSOR FOR select length(replace(val,\"|\",\"\")),id,val from split;\n        create table x(id int,name varchar(20));\n      open row;\n            select FOUND_ROWS() into found_row ;\n            read_loop: LOOP\n                IF found_row = 0 THEN\n                         LEAVE read_loop;\n                END IF;\n            set i = 1;  \n            FETCH row INTO r_len,r_id,r_val;\n            label1: LOOP        \n                IF i &lt;= r_len THEN\n                  insert into x values( r_id,SUBSTRING(replace(r_val,\"|\",\"\"),i,1));\n                  SET i = i + 1;\n                  ITERATE label1;\n                END IF;\n                LEAVE label1;\n            END LOOP label1;\n            set found_row = found_row - 1;\n            END LOOP;\n        close row;\n        select * from x;\n        drop table x;\nEND\n</code></pre>\n", "tags": ["mysql", "sql"], "creation_date": 1476519990, "score": 0, "last_activity_date": 1476519990, "answer_id": 40056810, "is_accepted": false, "owner": {"user_id": 1548932, "reputation": 347, "user_type": "registered", "accept_rate": 60, "display_name": "Imanez", "link": "http://stackoverflow.com/users/1548932/imanez", "profile_image": "https://www.gravatar.com/avatar/e3f6e948dc6ff655ca7dfd235e4df85e?s=128&d=identicon&r=PG"}, "title": "SQL split values to multiple rows", "question_id": 17942508}
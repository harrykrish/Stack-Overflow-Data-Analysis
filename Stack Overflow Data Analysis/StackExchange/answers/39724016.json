{"title": "The org.apache.shiro.session.mgt.DelegatingSession implementation requires that the SessionKey argument returns a non-null sessionId", "tags": ["java", "apache", "shiro"], "creation_date": 1474977367, "score": 1, "body": "<p>Turns out the problem was exactly what the error message stated - we were missing an \"id\" field in our session data.</p>\n\n<p>How did this happen? We have multiple applications that read and write out our session data, which is stored in Redis to support single sign on.</p>\n\n<p>One of the applications writing to this store was writing out our session data as json without an \"id\" attribute, which corresponds to the session id stored in the cookie. </p>\n\n<p>So for example, the bad session data looked like this:</p>\n\n<pre><code>{\n  \"lastAccessTime\": \"2016-09-21T12:35:00.018526Z\",\n  \"startTimestamp\": \"2016-09-21T12:35:00.018526Z\",\n  \"timeout\": 1800000\n}\n</code></pre>\n\n<p>and good session data looks like this (at a minimum) - note that there's an \"id\" attribute, that matches the session id stored in the session cookie.</p>\n\n<pre><code>{\n  \"id\": \"f9b4f222-2660-4318-aae9-ba5f455d560\",\n  \"lastAccessTime\": \"2016-09-21T12:40:44.813222Z\",\n  \"startTimestamp\": \"2016-09-21T12:40:42.592Z\",\n  \"timeout\": 1800000\n}\n</code></pre>\n\n<p>So all we had to do was get that app to add in the \"id\" attribute, and it fixed the problem!</p>\n", "last_activity_date": 1475062989, "answer_id": 39724016, "is_accepted": true, "owner": {"user_id": 26510, "reputation": 14100, "user_type": "registered", "accept_rate": 99, "display_name": "Brad Parks", "link": "http://stackoverflow.com/users/26510/brad-parks", "profile_image": "https://www.gravatar.com/avatar/25ee9a1b9f5a16feb1432882a9ef2f06?s=128&d=identicon&r=PG"}, "last_edit_date": 1475062989, "question_id": 39724015}
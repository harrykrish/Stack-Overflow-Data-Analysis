{"title": "Contact form gives error, does not trigger action php script", "tags": ["php", "email", "email-integration"], "creation_date": 1477330546, "score": 0, "body": "<p>First ensure that you have <code>contact.php</code> in php folder and also check whether your html form is reaching to php code or not because i can see onclick method in your html form .if your html form is reaching to php then </p>\n\n<p>you have problem in <code>isEmail($email)</code> function .if you are using  <code>isemail</code> function then you have to return true because you are checking <code>else if(!isEmail($email)) {</code> in validation please update as below</p>\n\n<pre><code>function isEmail($email) { \n\n     return filter_var($email, FILTER_VALIDATE_EMAIL);\n     }\n</code></pre>\n\n<p>full code</p>\n\n<pre><code>  function isEmail($email) { \n\n         return filter_var($email, FILTER_VALIDATE_EMAIL);\n         }\n\nif (!defined(\"PHP_EOL\")) define(\"PHP_EOL\", \"\\r\\n\");\n\n$name     = $_POST['name'];\n$email    = $_POST['email'];\n$content = $_POST['comments'];\n\n\nif(trim($name) == '') {\n    echo '&lt;div class=\"error_message\"&gt;Enter your name.&lt;/div&gt;';\n    exit();\n} else if(trim($email) == '') {\n    echo '&lt;div class=\"error_message\"&gt;Enter a valid email address.&lt;/div&gt;';\n    exit();\n} else if(!isEmail($email)) {\n    echo '&lt;div class=\"error_message\"&gt;You have enter an invalid e-mail address, try again.&lt;/div&gt;';\n    exit();\n} else if(trim($content) == '') {\n    echo '&lt;div class=\"error_message\"&gt;Enter your message.&lt;/div&gt;';\n    exit();\n} \n\nif(get_magic_quotes_gpc()) {\n    $comments = stripslashes($comments);\n}\n\n$emailTo = \"e.lucinskas@hotmail.co.uk\";\n\n$subject = 'Youve been contacted by ' . $name . '.';\n\n$e_body = \"You have been contacted by: $name\" . PHP_EOL . PHP_EOL;\n$e_reply = \"E-mail: $email\\r\\nPhone: $phone\";\n$e_content = \"Message:\\r\\n$comments\" . PHP_EOL . PHP_EOL;\n\n//$content = wordwrap( $e_body . $e_content . $e_reply, 70 );\n\n$headers = \"From: $email\" . PHP_EOL;\n$headers .= \"Reply-To: $email\" . PHP_EOL;\n$headers .= \"MIME-Version: 1.0\" . PHP_EOL;\n$headers .= \"Content-type: text/plain; charset=utf-8\" . PHP_EOL;\n$headers .= \"Content-Transfer-Encoding: quoted-printable\" . PHP_EOL;\n\nif(mail($emailTo, $subject, $content, $headers)) {\n\n    echo \"&lt;fieldset&gt;\";\n    echo \"&lt;div id='success_page'&gt;\";\n    echo \"&lt;h3&gt;Email Sent Successfully.&lt;/h3&gt;\";\n    echo \"&lt;p&gt;Thank you &lt;strong&gt;$name&lt;/strong&gt;, your message has been submitted to us.&lt;/p&gt;\";\n    echo \"&lt;/div&gt;\";\n    echo \"&lt;/fieldset&gt;\";\n\n} else {\n\n    echo 'ERROR!';\n}\n</code></pre>\n", "last_activity_date": 1477331682, "answer_id": 40224262, "is_accepted": true, "owner": {"user_id": 5266846, "reputation": 918, "user_type": "registered", "accept_rate": 56, "display_name": "iCoders", "link": "http://stackoverflow.com/users/5266846/icoders", "profile_image": "https://www.gravatar.com/avatar/b13184447cb69bb3c597224d9189e09b?s=128&d=identicon&r=PG&f=1"}, "last_edit_date": 1477331682, "question_id": 40224165}
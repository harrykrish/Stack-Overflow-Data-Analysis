{"title": "Handling refresh tokens for FCM device groups", "tags": ["android", "node.js", "firebase", "firebase-cloud-messaging"], "creation_date": 1477058062, "score": 0, "body": "<p>at moment i use this method. in my database i create a node with devices id</p>\n\n<pre><code>deviceId: {\n   uid1: deviceId,\n   uid2: deviceId,\n   uid3: deviceId\n}\n</code></pre>\n\n<p>another node with the users that are subscribed to receive a notifications</p>\n\n<pre><code>newsSubscriber: {\n   uid1: [array of subscribers],\n   uid2: [array of subscribers],\n   uid3: [array of subscribers]\n}\n</code></pre>\n\n<p>when i can send a notification by my nodejs script i get all users that are saved in the newsSubscriber node, and for any user i get his deviceId and i put it into an array of devices to send a notification.\nThere are only one problem, i read now that in this mode there are a <strong>limit of only 20 devices</strong>!.</p>\n\n<p>but i think that this is a good easy method to have a corresponding deviceId for any user because when i use the logout or the login in my app i can change the correspondent deviceId for any user, so as to have consistency between user and device.</p>\n\n<p>what happen if to bypass the limit of 20 devices i send the same notification to different groups of 20 devices? </p>\n", "last_activity_date": 1477069284, "answer_id": 40178510, "is_accepted": false, "owner": {"user_id": 6051159, "reputation": 70, "user_type": "registered", "accept_rate": 43, "display_name": "DThink", "link": "http://stackoverflow.com/users/6051159/dthink", "profile_image": "https://lh4.googleusercontent.com/-b4tZcXPLrfg/AAAAAAAAAAI/AAAAAAAAACg/lLL3HdfzSOQ/photo.jpg?sz=128"}, "last_edit_date": 1477069284, "question_id": 40140201}
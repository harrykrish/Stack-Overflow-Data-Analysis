{"body": "<p>This happens frequently. Probably because someone tested weird queries or similar that put the server in an unstable status.</p>\n\n<p>I suggest posting a comment in <a href=\"https://chat.fhir.org/#narrow/stream/hapi\" rel=\"nofollow\">https://chat.fhir.org/#narrow/stream/hapi</a> to get the server restarted, \nor install <a href=\"http://hapifhir.io/doc_cli.html\" rel=\"nofollow\">http://hapifhir.io/doc_cli.html</a> which does basically the same but you have full control.</p>\n\n<p>I built a Dockerfile:</p>\n\n<pre><code>FROM debian:sid\n\nMAINTAINER G\u00fcnter Z\u00f6chbauer &lt;guenter@yyy.com&gt;\n\nENV DEBIAN_FRONTEND noninteractive\n\nRUN \\\n  apt-get -q update &amp;&amp; \\\n  DEBIAN_FRONTEND=noninteractive &amp;&amp; \\\n  apt-get install --no-install-recommends -y -q \\\n    apt-transport-https \\\n    apt-utils \\\n    wget \\\n    bzip2 \\\n    default-jdk\n\n#  net-tools sudo procps telnet\nRUN \\\n  apt-get update &amp;&amp; \\\n  rm -rf /var/lib/apt/lists/*\n\nhttps://github.com/jamesagnew/hapi-fhir/releases/download/v2.0/hapi-fhir-2.0-cli.tar.bz2 &amp;&amp; \\\n\nADD hapi-* /hapi_fhir_cli/\n\nRUN ls -la\nRUN ls -la /hapi_fhir_cli\n\nADD prepare_server.sh /hapi_fhir_cli/\n\nRUN \\\n  cd /hapi_fhir_cli &amp;&amp; \\\n  bash -c /hapi_fhir_cli/prepare_server.sh\n\nADD start.sh /hapi_fhir_cli/\n\nWORKDIR /hapi_fhir_cli\n\nEXPOSE 5555\n\nENTRYPOINT [\"/hapi_fhir_cli/start.sh\"]\n</code></pre>\n\n<p>Which requires in the same directory as the <code>Dockerfile</code></p>\n\n\n\n<p><strong><code>prepare_server.sh</code></strong></p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>#!/usr/bin/env bash\nls -la\n./hapi-fhir-cli run-server --allow-external-refs &amp;\nwhile ! timeout 1 bash -c \"echo &gt; /dev/tcp/localhost/8080\"; do sleep 10; done\n./hapi-fhir-cli upload-definitions -t http://localhost:8080/baseDstu2\n./hapi-fhir-cli upload-examples -c -t http://localhost:8080/baseDstu2\n</code></pre>\n\n<p><strong><code>start.sh</code></strong></p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>#!/usr/bin/env bash\ncd /hapi_fhir_cli\n./hapi-fhir-cli run-server --allow-external-refs -p 5555\n</code></pre>\n\n<p>Build</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>docker build myname/hapi_fhir_cli_dstu2 -t . #--no-cache\n</code></pre>\n\n<p>Run</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>docker run -d -p 5555:5555 [image id from docker build]\n</code></pre>\n\n<p>Hope this helps.</p>\n", "tags": ["hl7-fhir", "hapi", "dstu2-fhir", "hapi-fhir"], "creation_date": 1477386608, "score": 0, "last_activity_date": 1477386608, "answer_id": 40235874, "is_accepted": false, "owner": {"user_id": 217408, "reputation": 130599, "user_type": "registered", "accept_rate": 99, "display_name": "G&#252;nter Z&#246;chbauer", "link": "http://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer", "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1"}, "title": "Failed to Call Access Method Exception when Creating a MedicationOrder in FHIR", "question_id": 40235522}
{"title": "How to set versionName in APK filename using gradle?", "tags": ["android", "build", "gradle", "apk", "android-gradle"], "creation_date": 1426093372, "score": 85, "body": "<h1>Solution 1</h1>\n\n<p>The following solution has been tested with the following Android Gradle Plugin Versions:</p>\n\n<ul>\n<li>2.2.2</li>\n<li>2.2.0 (September 2016)</li>\n<li>2.1.3 (August 2016)</li>\n<li>2.1.2</li>\n<li>2.0.0 (April 2016)</li>\n<li>1.5.0 (2015/11/12)</li>\n<li>1.4.0-beta6 (2015/10/05)</li>\n<li>1.3.1 (2015/08/11)  </li>\n</ul>\n\n<p>I'll update this post as new versions come out.</p>\n\n<pre><code>android {\n    compileSdkVersion 22\n    buildToolsVersion \"22.0.1\"\n    defaultConfig {\n        applicationId \"com.company.app\"\n        minSdkVersion 13\n        targetSdkVersion 21\n        versionCode 14       // increment with every release\n        versionName '1.4.8'   // change with every release\n        setProperty(\"archivesBaseName\", \"MyCompany-MyAppName-$versionName\")\n    }\n}\n</code></pre>\n\n<h1>Solution 2</h1>\n\n<p>The following solution has been tested with the following Android Gradle Plugin Versions:</p>\n\n<ul>\n<li>1.3.0 (2015/07/30) - <strong>Not Working, <a href=\"https://code.google.com/p/android/issues/detail?id=182016\" rel=\"nofollow\">bug scheduled to be fixed in 1.3.1</a></strong></li>\n<li>1.2.3 (2015/07/21)</li>\n<li>1.2.2 (2015/04/28)</li>\n<li>1.2.1 (2015/04/27)</li>\n<li>1.2.0 (2015/04/26)</li>\n<li>1.2.0-beta1 (2015/03/25)</li>\n<li>1.1.3 (2015/03/06)  </li>\n</ul>\n\n<p>I'll update this post when if a new version breaks this.</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 21\n    buildToolsVersion \"21.1.2\"\n    defaultConfig {\n        applicationId \"com.company.app\"\n        minSdkVersion 13\n        targetSdkVersion 21\n        versionCode 14       // increment with every release\n        versionName '1.4.8'   // change with every release\n        archivesBaseName = \"MyCompany-MyAppName-$versionName\"\n    }\n}\n</code></pre>\n\n<p>I only have to change the version name in one place. Code is simple too.</p>\n\n<p>The above examples will create apk files named named <em>MyCompany-MyAppName-1.4.8-debug.apk</em> or  <em>MyCompany-MyAppName-1.4.8-release.apk</em> depending on the build variant selected.</p>\n", "last_activity_date": 1477416136, "answer_id": 28992851, "is_accepted": false, "owner": {"user_id": 2350083, "reputation": 2089, "user_type": "registered", "accept_rate": 53, "display_name": "Jonathan727", "link": "http://stackoverflow.com/users/2350083/jonathan727", "profile_image": "https://i.stack.imgur.com/Xil3J.jpg?s=128&g=1"}, "last_edit_date": 1477416136, "question_id": 18332474}
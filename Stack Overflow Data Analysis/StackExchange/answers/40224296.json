{"title": "React + fetch request", "tags": ["angularjs", "http", "reactjs", "fetch"], "creation_date": 1477330659, "score": 2, "body": "<p>Here you have great facebook documentation:\n<a href=\"https://facebook.github.io/react-native/docs/network.html\" rel=\"nofollow\">https://facebook.github.io/react-native/docs/network.html</a>\nwith example that shows what you want</p>\n\n<h3>headers in request</h3>\n\n<p>Sometimes you need header in request to provide access token or content-type (especially in <code>POST</code> request)</p>\n\n<pre><code>fetch('https://mywebsite.com/endpoint/', {\n  method: 'POST',\n  headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({\n    firstParam: 'yourValue',\n    secondParam: 'yourOtherValue',\n  })\n})\n</code></pre>\n\n<h3>Promises instead of callbacks</h3>\n\n<p>In your example you pass callbacks (<code>req</code> and <code>res</code>) to your request, in <code>fetch</code> you have <a href=\"https://developer.mozilla.org/pl/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow\">Promises</a> so you get response as a paramether of <code>then</code> or error message in <code>catch</code>.</p>\n\n<pre><code>fetch('https://facebook.github.io/react-native/movies.json')\n  .then((response) =&gt; response.json())\n  .then((responseJson) =&gt; {\n    return responseJson.movies;\n  })\n  .catch((error) =&gt; {\n    console.error(error);\n  });\n</code></pre>\n", "last_activity_date": 1477331291, "answer_id": 40224296, "is_accepted": true, "owner": {"user_id": 6041704, "reputation": 411, "user_type": "registered", "display_name": "jonzee", "link": "http://stackoverflow.com/users/6041704/jonzee", "profile_image": "https://www.gravatar.com/avatar/07bae9f4ff0a35e195af9da7870bc006?s=128&d=identicon&r=PG&f=1"}, "last_edit_date": 1477331291, "question_id": 40224257}
{"title": "Getting absolute URLs using ASP.NET Core MVC 6", "tags": ["asp.net", ".net", "asp.net-mvc", "asp.net-core", "asp.net-core-mvc"], "creation_date": 1454529094, "score": 2, "body": "<p>If you simply want a Uri for a method that has a route annotation, the following worked for me.</p>\n\n<h2>Steps</h2>\n\n<h3>Get Relative URL</h3>\n\n<p>Noting the Route name of the target action, get the relative URL using the controller's <a href=\"https://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Mvc/ControllerBase/index.html#prop-Microsoft.AspNetCore.Mvc.ControllerBase.Url\" rel=\"nofollow\">URL</a> property as follows:</p>\n\n<pre><code>var routeUrl = Url.RouteUrl(\"*Route Name Here*\", new { *Route parameters here* });\n</code></pre>\n\n<h3>Create an absolute URL</h3>\n\n<pre><code>var absUrl = string.Format(\"{0}://{1}{2}\", Request.Scheme,\n            Request.Host, routeUrl);\n</code></pre>\n\n<h3>Create a new Uri</h3>\n\n<pre><code>var uri = new Uri(absUrl, UriKind.Absolute)\n</code></pre>\n\n<h2>Example</h2>\n\n<pre><code>[Produces(\"application/json\")]\n[Route(\"api/Children\")]\npublic class ChildrenController : Controller\n{\n    private readonly ApplicationDbContext _context;\n\n    public ChildrenController(ApplicationDbContext context)\n    {\n        _context = context;\n    }\n\n    // GET: api/Children\n    [HttpGet]\n    public IEnumerable&lt;Child&gt; GetChild()\n    {\n        return _context.Child;\n    }\n\n    [HttpGet(\"uris\")]\n    public IEnumerable&lt;Uri&gt; GetChildUris()\n    {\n        return from c in _context.Child\n               select\n                   new Uri(\n                       $\"{Request.Scheme}://{Request.Host}{Uri.RouteUrl(\"GetChildRoute\", new { id = c.ChildId })}\",\n                       UriKind.Absolute);\n    }\n\n\n    // GET: api/Children/5\n    [HttpGet(\"{id}\", Name = \"GetChildRoute\")]\n    public IActionResult GetChild([FromRoute] int id)\n    {\n        if (!ModelState.IsValid)\n        {\n            return HttpBadRequest(ModelState);\n        }\n\n        Child child = _context.Child.Single(m =&gt; m.ChildId == id);\n\n        if (child == null)\n        {\n            return HttpNotFound();\n        }\n\n        return Ok(child);\n    }\n}\n</code></pre>\n", "last_activity_date": 1475769883, "answer_id": 35186380, "is_accepted": false, "owner": {"user_id": 2350083, "reputation": 2089, "user_type": "registered", "accept_rate": 53, "display_name": "Jonathan727", "link": "http://stackoverflow.com/users/2350083/jonathan727", "profile_image": "https://i.stack.imgur.com/Xil3J.jpg?s=128&g=1"}, "last_edit_date": 1475769883, "question_id": 30755827}
{"title": "What permissions do I need to run external js (Facebook-SDK) in a Chrome extension popup?", "tags": ["google-chrome-extension", "facebook-javascript-sdk"], "creation_date": 1473602995, "score": 1, "body": "\n\n<ul>\n<li>The errors were shown in the popup's console: rightclick the popup, then <code>Inspect</code></li>\n<li><p>Script <code>src</code> didn't specify <code>https</code> so current scheme <code>chrome-extension:</code> was used.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>(function(d, s, id) {\n  var js, fjs = d.getElementsByTagName(s)[0];\n  if (d.getElementById(id)) return;\n  js = d.createElement(s); js.id = id;\n  js.src = \"https://connect.facebook.net/de_DE/sdk.js#xfbml=1&amp;version=v2.7&amp;appId=############\";\n  fjs.parentNode.insertBefore(js, fjs);\n}(document, 'script', 'facebook-jssdk'));\n</code></pre></li>\n<li><p>To allow the script <a href=\"https://developer.chrome.com/extensions/contentSecurityPolicy\" rel=\"nofollow\">contentSecurityPolicy</a> should be specified in manifest.json:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\"content_security_policy\": \"script-src 'self' https://connect.facebook.net/ https://graph.facebook.com/; object-src 'self'\"\n</code></pre></li>\n<li><p>To allow the dependent scripts loaded by SDK permissions in manifest.json were needed:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  \"permissions\": [\n    \"webNavigation\",\n    \"https://connect.facebook.net/de_DE/sdk.js*\",\n    \"https://graph.facebook.com/v2.1/*\"\n  ]\n</code></pre></li>\n<li><p>Since the hash part of URL isn't recognized in manifest.json wildcard <code>*</code> should be used.</p></li>\n</ul>\n", "last_activity_date": 1473608368, "answer_id": 39436942, "is_accepted": false, "owner": {"user_id": 6751513, "reputation": 31, "user_type": "registered", "accept_rate": 75, "display_name": "Julius S.", "link": "http://stackoverflow.com/users/6751513/julius-s", "profile_image": "https://graph.facebook.com/10153843314702686/picture?type=large"}, "last_edit_date": 1473608368, "question_id": 39435642}
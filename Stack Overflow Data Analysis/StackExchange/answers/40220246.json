{"title": "Removing nodes from linked list not working properly", "tags": ["c++", "linked-list"], "creation_date": 1477317160, "score": 1, "body": "<p><strong>Why your code won't work:</strong></p>\n\n<p>Have a close look at this code:</p>\n\n<pre><code>while (current != NULL &amp;&amp; current-&gt;next != NULL) {\n    if (current-&gt;next-&gt;value &gt; max-&gt;value) {\n      temp = current-&gt;next;\n      current-&gt;next = temp-&gt;next;\n      free(temp);\n    }\n</code></pre>\n\n<p>You are changing <code>current</code> but not <code>max</code>. Having <code>max</code> var in your code seems totally irrelevant. </p>\n\n<p>Actually you never enter into the <code>else</code> part of the code, <code>current</code> value is always compared with <code>max</code> which throughout remains fixed at <code>1</code>, and eventually <code>while</code> loop finishes when <code>current</code> is the last node(value = 3), as <code>current-&gt;next != NULL</code> fails for last node. So, it fails to get rid of last node. As a result of that, you get:</p>\n\n<p>1(first node) and 3(last node)</p>\n\n<hr>\n\n<p><strong>Solution: Try this iterative approach:</strong></p>\n\n<pre><code>Node *last, *lastTail = NULL;\ncurrent = *head;\nint last_val = INT_MAX;\nwhile (current != NULL) {\n    if(current-&gt;value &gt; last_val) {\n        last = current;\n        last_val = current-&gt;value;\n        current = current-&gt;next;\n        if(lastTail) {\n            lastTail-&gt;next = current;\n        }\n        else {\n            *head = current;\n            lastTail = current;\n        }\n        delete last;\n    }\n    else{\n        lastTail = current;\n        last_val = current-&gt;value;\n        current = current-&gt;next;\n    }\n}\n</code></pre>\n", "last_activity_date": 1477320683, "answer_id": 40220246, "is_accepted": false, "owner": {"user_id": 1465553, "reputation": 1444, "user_type": "registered", "accept_rate": 75, "display_name": "Saurav Sahu", "link": "http://stackoverflow.com/users/1465553/saurav-sahu", "profile_image": "https://www.gravatar.com/avatar/5b559f395549789c041652429444dc0a?s=128&d=identicon&r=PG"}, "last_edit_date": 1477320683, "question_id": 40219833}
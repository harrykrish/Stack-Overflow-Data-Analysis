{"title": "How do I write dispatch_after GCD in Swift 3?", "tags": ["ios", "swift", "grand-central-dispatch", "swift3", "xcode8"], "creation_date": 1465867868, "score": 154, "body": "<p>The syntax is simply:</p>\n\n<pre><code>// to run something in 0.1 seconds\n\nDispatchQueue.main.asyncAfter(deadline: .now() + 0.1) {\n    // your code here\n}\n</code></pre>\n\n<hr>\n\n<p>Note, the above syntax of adding <code>seconds</code> as a <code>Double</code> seems to be a source of confusion (esp since we were accustomed to adding nsec). That \"add seconds as <code>Double</code>\" syntax works because <code>deadline</code> is a <code>DispatchTime</code> and, behind the scenes, there is a <code>+</code> operator that will take a <code>Double</code> and add that many seconds to the <code>DispatchTime</code>:</p>\n\n<pre><code>public func +(time: DispatchTime, seconds: Double) -&gt; DispatchTime\n</code></pre>\n\n<p>But, if you really want to add an integer number of msec, \u03bcs, or nsec to the <code>DispatchTime</code>, you can also add a <code>DispatchTimeInterval</code> to a <code>DispatchTime</code>. That means you can do:</p>\n\n<pre><code>DispatchQueue.main.asyncAfter(deadline: .now() + .milliseconds(500)) {\n    os_log(\"500 msec seconds later\")\n}\n\nDispatchQueue.main.asyncAfter(deadline: .now() + .microseconds(1_000_000)) {\n    os_log(\"1m \u03bcs seconds later\")\n}\n\nDispatchQueue.main.asyncAfter(deadline: .now() + .nanoseconds(1_500_000_000)) {\n    os_log(\"1.5b nsec seconds later\")\n}\n</code></pre>\n\n<p>These all seamlessly work because of this <code>+</code> operator for <code>DispatchTime</code>:</p>\n\n<pre><code>public func +(time: DispatchTime, interval: DispatchTimeInterval) -&gt; DispatchTime\n</code></pre>\n", "last_activity_date": 1477776258, "answer_id": 37801602, "is_accepted": true, "owner": {"user_id": 1271826, "reputation": 193493, "user_type": "registered", "accept_rate": 100, "display_name": "Rob", "link": "http://stackoverflow.com/users/1271826/rob", "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1"}, "last_edit_date": 1477776258, "question_id": 37801436}
{"title": "Website to Sagepay submit encryption code was working but now fails after server php upgrade", "tags": ["php", "encryption", "sagepay"], "creation_date": 1477750880, "score": 0, "body": "<p><strong>SOLVED</strong></p>\n\n<p>The decryption scripts were not working because they were not receiving any data from the contents of the url in the response sent from Sagepay.</p>\n\n<p>This response should be received in the file 'completed.php' which then passes the response string to the included 'functions.php' which contains the decryption code.</p>\n\n<p>In the completed.php file the following line which extracted the url contents used to work under php 5.2.4:</p>\n\n<pre><code>$Decoded = DHclassInFunc::decryptAes($crypt,$EncryptionPassword);  this worked in 5.5.3 but not 5.5.59\n</code></pre>\n\n<p>I changed this to:</p>\n\n<pre><code>$Decoded = DHclassInFunc::decryptAes(($_GET['crypt']),$EncryptionPassword);// HURRAH ! finally the scripts get the url contents so now works in php 5.5.9.\n</code></pre>\n\n<p>Probably elementary to a competent php coder; but at least I got there.</p>\n", "last_activity_date": 1477751696, "answer_id": 40320027, "is_accepted": true, "owner": {"user_id": 5048687, "reputation": 6, "user_type": "registered", "display_name": "David", "link": "http://stackoverflow.com/users/5048687/david", "profile_image": "https://www.gravatar.com/avatar/2f73b353f748b41dcd51f057d4772982?s=128&d=identicon&r=PG&f=1"}, "last_edit_date": 1477751696, "question_id": 40181959}
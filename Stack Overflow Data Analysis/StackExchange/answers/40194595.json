{"title": "Drupal update to 7.51 - I can&#39;t drag and drop tables anymore", "tags": ["drupal", "drupal-7"], "creation_date": 1477154766, "score": 0, "body": "<p>I found that the file 'misc/tabledrag.js' has been changed and that's the cause:-</p>\n\n<pre><code>`// Add the mousedown action for the handle.\n  --277handle.mousedown(function (event) {\n  ++279handle.bind('mousedown touchstart pointerdown', function (event) {\n  ++280if (event.originalEvent.type == \"touchstart\") {\n  ++281event = event.originalEvent.touches[0];\n  ++282}`\n</code></pre>\n\n<p>Nothing wrong with that change but the mouseCoords on line 588 is looking for 'clientX' and 'clientY' they don't exist on the the pointerdown event. I found that changing:-</p>\n\n<pre><code>x: event.clientX + document.body.scrollLeft - document.body.clientLeft,\ny: event.clientY + document.body.scrollTop  - document.body.clientTop\n</code></pre>\n\n<p>to</p>\n\n<pre><code>x: event.originalEvent.clientX + document.body.scrollLeft - document.body.clientLeft,\ny: event.originalEvent.clientY + document.body.scrollTop  - document.body.clientTop\n</code></pre>\n\n<p>fixed it, not sure if it's right but I'll be patching my sites to this until it's fixed in the next release!</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>A patch has now been created here: <a href=\"https://www.drupal.org/node/2821441\" rel=\"nofollow\">https://www.drupal.org/node/2821441</a></p>\n", "last_activity_date": 1477687085, "answer_id": 40194595, "is_accepted": true, "owner": {"user_id": 2160736, "reputation": 80, "user_type": "registered", "accept_rate": 83, "display_name": "Joe Keene", "link": "http://stackoverflow.com/users/2160736/joe-keene", "profile_image": "https://i.stack.imgur.com/rIts8.png?s=128&g=1"}, "last_edit_date": 1477687085, "question_id": 40194594}
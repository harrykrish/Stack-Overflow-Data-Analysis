{"title": "iOS Standalone App 300ms Click Delay", "tags": ["ios", "mobile-safari", "iphone-standalone-web-app", "fastclick.js"], "creation_date": 1477518886, "score": 0, "body": "<p>There seems to be no native workaround, and this appears to be a known issue, regardless of <a href=\"https://trac.webkit.org/changeset/191072\" rel=\"nofollow\">being fixed in webkit.</a></p>\n\n<p><em>Begin Rant</em><br><br>\n<strong>Apples lack of support, and attention to detail for standalone apps is truly unbelievable; especially as of version 9.3.5.</strong></p>\n\n<p>Between this issue, and the major <a href=\"http://stackoverflow.com/questions/40254995/ios-standalone-app-redirecting-to-youtube-app-on-page-load\">Youtube player issue</a> on standalone apps. Perhaps Apple should stop worrying about removing the headphone jack, and adding some mystical \"Touch Bar, and actually fix their damn platform.<br><br>\n<em>End Rant</em></p>\n\n<p>You'll have to use <a href=\"https://github.com/ftlabs/fastclick\" rel=\"nofollow\">FastClick</a> to solve the issue. Apply it only to iOS. You can go further, and only apply it to standalone apps, as it works fine if the app isn't in standalone.</p>\n\n<p>My script tag is placed after the DOM, and the initialization looks like this:</p>\n\n<pre><code>    if (isIos() &amp;&amp; isRunningStandalone()) {\n        // Initialize Fast Click\n        // Even with the latest webkit updates, unfortunatley iOS standalone apps still have the 350ms click delay,\n        // so we need to bring in fastclick to alleviate this.\n        // See http://stackoverflow.com/questions/39951945/ios-standalone-app-300ms-click-delay\n        if ('addEventListener' in document) {\n            document.addEventListener('DOMContentLoaded', function () {\n                FastClick.attach(document.body);\n            }, false);\n        }\n    }\n\n   isIos = function () {\n        // Reference: http://stackoverflow.com/questions/9038625/detect-if-device-is-ios#answer-9039885\n        return /iPad|iPhone|iPod/.test(navigator.userAgent) &amp;&amp; !window.MSStream;\n    };\n\n   isRunningStandalone = function () {\n        // Bullet proof way to check if iOS standalone\n        var isRunningiOSStandalone = window.navigator.standalone;\n\n        // Reliable way (in newer browsers) to check if Android standalone.\n        // http://stackoverflow.com/questions/21125337/how-to-detect-if-web-app-running-standalone-on-chrome-mobile#answer-34516083\n        var isRunningAndroidStandalone = window.matchMedia('(display-mode: standalone)').matches;\n\n        return isRunningiOSStandalone || isRunningAndroidStandalone;\n    };\n</code></pre>\n", "last_activity_date": 1477718078, "answer_id": 40272745, "is_accepted": true, "owner": {"user_id": 175057, "reputation": 5971, "user_type": "registered", "accept_rate": 83, "display_name": "contactmatt", "link": "http://stackoverflow.com/users/175057/contactmatt", "profile_image": "https://i.stack.imgur.com/epnyD.jpg?s=128&g=1"}, "last_edit_date": 1477718078, "question_id": 39951945}
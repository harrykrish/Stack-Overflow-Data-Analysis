{"body": "<p>You need to add <code>ctx.beginPath()</code> before using <code>ctx.rect</code>, <code>moveTo</code>, <code>lineTo</code>, <code>arc</code>, and any function you need to use <code>ctx.stroke()</code> or <code>ctx.fill()</code> to see. </p>\n\n<p><code>beginPath</code> tell the canvas 2D context that you wish to start a new shape. If you do not do this you end up adding more and more shapes each update. </p>\n\n<p>From your fiddle</p>\n\n<pre><code>function update() {\n  ctx.clearRect(0, 0, width, height);\n  ctx.fillStyle = pat;\n  //===============================================================\n  ctx.beginPath()  // &lt;=== this will fix your problem. It removes all the\n  //                       previous rects\n  //===============================================================\n  for (var i = 0; i &lt; boxes.length; i++) {\n    ctx.rect(boxes[i].x, boxes[i].y, boxes[i].width, boxes[i].height);\n    // or use ctx.fillRect(...\n    var col = coli(player, boxes[i])\n  };\n  ctx.fill();    \n</code></pre>\n", "tags": ["javascript", "html", "canvas"], "creation_date": 1477603113, "score": 0, "last_activity_date": 1477603113, "answer_id": 40294351, "is_accepted": true, "owner": {"user_id": 3877726, "reputation": 10339, "user_type": "registered", "accept_rate": 43, "display_name": "Blindman67", "link": "http://stackoverflow.com/users/3877726/blindman67", "profile_image": "https://i.stack.imgur.com/C7qq2.png?s=128&g=1"}, "title": "Canvas game framerate drop", "question_id": 40293302}